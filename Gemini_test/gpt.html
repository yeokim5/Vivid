<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>One More - Scrollytelling Essay</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- GSAP & ScrollTrigger CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>
    <!-- Observer Plugin for GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Observer.min.js"></script>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
      }
      body {
        background: #f3f1ec;
        color: #333;
        font-family: "Merriweather", serif;
      }
      .section {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }
      .section-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        filter: brightness(0.6);
        z-index: 0;
      }
      .page {
        position: relative;
        z-index: 10;
        max-width: 600px;
        background: #fff;
        padding: 3rem 2rem;
        margin: 2rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border-radius: 0.5rem;
      }
      .page p {
        margin-bottom: 1.5rem;
        line-height: 1.7;
      }
    </style>
  </head>
  <body>
    <div id="sections">
      <section class="section" id="sec-closure">
        <div
          class="section-bg"
          style="background-image: url('images/1.jpg')"
        ></div>
        <div class="page">
          <p>
            Do you think I can have one more <strong>kiss</strong>? I'll find
            <em>closure</em> on your lips, and then I'll go.
          </p>
        </div>
        <div class="canvas-container" id="canvas-closure"></div>
      </section>

      <section class="section" id="sec-fullness">
        <div
          class="section-bg"
          style="background-image: url('images/2.jpg')"
        ></div>
        <div class="page">
          <p>
            Maybe also one more breakfast, one more lunch, and one more dinner.
            I'll be <em>full</em> and happy and we can part.
          </p>
        </div>
        <div class="canvas-container" id="canvas-fullness"></div>
      </section>

      <section class="section" id="sec-suspension">
        <div
          class="section-bg"
          style="background-image: url('images/3.jpg')"
        ></div>
        <div class="page">
          <p>
            But in between meals, maybe we can lie in bed one more time. One
            more prolonged moment where time <em>suspends</em> indefinitely.
          </p>
        </div>
        <div class="canvas-container" id="canvas-suspension"></div>
      </section>

      <section class="section" id="sec-hope">
        <div
          class="section-bg"
          style="background-image: url('images/4.jpg')"
        ></div>
        <div class="page">
          <p>
            My <em>hope</em> is if we add up the 'one mores,' they will equal a
            lifetime and I'll never have to let you go.
          </p>
        </div>
        <div class="canvas-container" id="canvas-hope"></div>
      </section>

      <section class="section" id="sec-newness">
        <div
          class="section-bg"
          style="background-image: url('images/5.jpg')"
        ></div>
        <div class="page">
          <p>
            I met you when everything was <em>new</em> and exciting, and the
            possibilities seemed endless.
          </p>
        </div>
        <div class="canvas-container" id="canvas-newness"></div>
      </section>

      <section class="section" id="sec-distance">
        <div
          class="section-bg"
          style="background-image: url('images/6.jpg')"
        ></div>
        <div class="page">
          <p>
            Somewhere between then and now, here and there, I guess we didn't
            just grow apart, we grew <em>distance</em>.
          </p>
        </div>
        <div class="canvas-container" id="canvas-distance"></div>
      </section>

      <section class="section" id="sec-growth">
        <div
          class="section-bg"
          style="background-image: url('images/7.jpg')"
        ></div>
        <div class="page">
          <p>
            We <em>grew</em> up. When something breaks, if the pieces are large
            enough, you can fix it.
          </p>
        </div>
        <div class="canvas-container" id="canvas-growth"></div>
      </section>

      <section class="section" id="sec-shatter">
        <div
          class="section-bg"
          style="background-image: url('images/8.jpg')"
        ></div>
        <div class="page">
          <p>
            Unfortunately, sometimes things don't break, they <em>shatter</em>.
          </p>
        </div>
        <div class="canvas-container" id="canvas-shatter"></div>
      </section>

      <section class="section" id="sec-light">
        <div
          class="section-bg"
          style="background-image: url('images/9.jpg')"
        ></div>
        <div class="page">
          <p>
            But when you let the <em>light</em> in, shattered glass will
            glitter.
          </p>
        </div>
        <div class="canvas-container" id="canvas-light"></div>
      </section>

      <section class="section" id="sec-memory">
        <div
          class="section-bg"
          style="background-image: url('images/10.jpg')"
        ></div>
        <div class="page">
          <p>
            In those moments when the pieces of what we were catch the sun, I'll
            remember just how beautiful it was... because it was <em>us</em>.
          </p>
        </div>
        <div class="canvas-container" id="canvas-memory"></div>
      </section>
    </div>

    <!-- Scripts -->
    <script>
      gsap.registerPlugin(ScrollTrigger, Observer);

      function createScene(containerId, word) {
        const container = document.getElementById(containerId);
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(
          50,
          container.clientWidth / container.clientHeight,
          0.1,
          1000
        );
        camera.position.z = 3;
        const renderer = new THREE.WebGLRenderer({
          alpha: true,
          antialias: true,
        });
        renderer.setSize(container.clientWidth, container.clientHeight);
        container.appendChild(renderer.domElement);
        const ambient = new THREE.AmbientLight(0xffffff, 0.7);
        scene.add(ambient);
        const pointLight = new THREE.PointLight(0xffffff, 0.8);
        pointLight.position.set(5, 5, 5);
        scene.add(pointLight);
        let geometry;
        switch (word) {
          case "closure":
            geometry = new THREE.SphereGeometry(1, 32, 32);
            break;
          case "fullness":
            geometry = new THREE.TorusGeometry(1, 0.4, 16, 100);
            break;
          case "suspension":
            geometry = new THREE.BoxGeometry(1.2, 1.2, 1.2);
            break;
          case "hope":
            geometry = new THREE.ConeGeometry(1, 2, 32);
            break;
          case "newness":
            geometry = new THREE.OctahedronGeometry(1);
            break;
          case "distance":
            geometry = new THREE.TorusKnotGeometry(1, 0.3, 100, 16);
            break;
          case "growth":
            geometry = new THREE.CylinderGeometry(0.8, 0.8, 1.5, 32);
            break;
          case "shatter":
            geometry = new THREE.DodecahedronGeometry(1);
            break;
          case "light":
            geometry = new THREE.IcosahedronGeometry(1, 0);
            break;
          case "memory":
            geometry = new THREE.PlaneGeometry(2, 2);
            break;
          default:
            geometry = new THREE.SphereGeometry(1, 16, 16);
        }
        const material = new THREE.MeshStandardMaterial({
          metalness: 0.5,
          roughness: 0.2,
        });
        const mesh = new THREE.Mesh(geometry, material);
        scene.add(mesh);
        function animate() {
          requestAnimationFrame(animate);
          mesh.rotation.x += 0.005;
          mesh.rotation.y += 0.01;
          renderer.render(scene, camera);
        }
        animate();
        window.addEventListener("resize", () => {
          camera.aspect = container.clientWidth / container.clientHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(container.clientWidth, container.clientHeight);
        });
        return mesh;
      }

      const words = [
        "closure",
        "fullness",
        "suspension",
        "hope",
        "newness",
        "distance",
        "growth",
        "shatter",
        "light",
        "memory",
      ];
      const meshes = {};
      words.forEach((w) => (meshes[w] = createScene(`canvas-${w}`, w)));
      words.forEach((word) => {
        ScrollTrigger.create({
          trigger: `#sec-${word}`,
          start: "top center",
          end: "bottom center",
          onEnter: () =>
            gsap.to(meshes[word].rotation, { y: `+=${Math.PI}`, duration: 2 }),
          onEnterBack: () =>
            gsap.to(meshes[word].rotation, { y: `-=${Math.PI}`, duration: 2 }),
        });
      });
      Observer.create({ type: "scroll" });
    </script>
  </body>
</html>
