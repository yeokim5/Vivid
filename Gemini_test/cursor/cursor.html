<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>One More | Scrollytelling</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-color: #0a0a0a;
        --text-color: #f5f5f5;
        --accent-color: #e2c07c;
        --accent-color-2: #e06b6b;
        --accent-gradient: linear-gradient(
          135deg,
          var(--accent-color),
          var(--accent-color-2)
        );
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Montserrat", sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        overflow-x: hidden;
        background: radial-gradient(circle at 50% 50%, #151515, #080808);
        line-height: 1.6;
      }

      .smooth-wrapper {
        position: relative;
      }

      .smooth-content {
        position: relative;
      }

      #particle-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -2;
        opacity: 0.5;
      }

      header {
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
      }

      header::after {
        content: "";
        position: absolute;
        width: 200%;
        height: 200%;
        top: -50%;
        left: -50%;
        background: radial-gradient(
          circle at center,
          rgba(226, 192, 124, 0.05) 0%,
          transparent 35%
        );
        z-index: -1;
      }

      h1 {
        font-family: "Playfair Display", serif;
        font-size: clamp(3rem, 10vw, 8rem);
        font-weight: 700;
        margin-bottom: 2rem;
        opacity: 0;
        background: var(--accent-gradient);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 0 20px rgba(226, 192, 124, 0.2);
        letter-spacing: -0.03em;
      }

      .intro {
        font-size: clamp(1rem, 2vw, 1.5rem);
        max-width: 600px;
        text-align: center;
        padding: 0 2rem;
        opacity: 0;
        font-weight: 300;
        letter-spacing: 0.5px;
      }

      .scroll-indicator {
        position: absolute;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
      }

      .scroll-indicator::after {
        content: "â†“";
        font-size: 2rem;
        animation: bounce 2s infinite;
        color: var(--accent-color);
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-20px);
        }
        60% {
          transform: translateY(-10px);
        }
      }

      section {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 4rem 2rem;
        position: relative;
        overflow: hidden;
      }

      .section-1 {
        position: relative;
        z-index: 1;
      }

      .section-1 .quote {
        position: relative;
        z-index: 2;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(10px);
      }

      .quote {
        max-width: 800px;
        font-family: "Playfair Display", serif;
        font-size: clamp(1.5rem, 4vw, 3rem);
        line-height: 1.4;
        opacity: 0;
        position: relative;
        padding: 2.5rem;
        border-radius: 8px;
        background: rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(10px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: transform 0.5s ease, box-shadow 0.5s ease;
        overflow: hidden;
      }

      .quote:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
      }

      .quote::before {
        content: "\201C";
        position: absolute;
        top: -2rem;
        left: -1rem;
        font-size: 8rem;
        opacity: 0.1;
        font-family: "Playfair Display", serif;
      }

      .quote span {
        display: inline-block;
      }

      .highlight {
        color: var(--accent-color);
        position: relative;
        font-style: italic;
      }

      .highlight::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 3px;
        bottom: -5px;
        left: 0;
        background: var(--accent-gradient);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.5s ease;
      }

      .highlight.active::after {
        transform: scaleX(1);
      }

      .parallax-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        opacity: 0.15;
        background-size: cover;
        background-position: center;
        filter: grayscale(70%);
      }

      section:nth-child(odd) .parallax-bg {
        background: radial-gradient(
          circle at 30% 50%,
          rgba(226, 192, 124, 0.1),
          transparent 70%
        );
      }

      section:nth-child(even) .parallax-bg {
        background: radial-gradient(
          circle at 70% 50%,
          rgba(224, 107, 107, 0.1),
          transparent 70%
        );
      }

      .final-section {
        text-align: center;
      }

      .final-quote {
        font-family: "Playfair Display", serif;
        font-style: italic;
        font-size: clamp(1.5rem, 3vw, 2.5rem);
        max-width: 800px;
        margin: 0 auto;
        opacity: 0;
        padding: 3rem;
        background: rgba(15, 15, 15, 0.6);
        backdrop-filter: blur(10px);
        border-radius: 8px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .credits {
        position: fixed;
        bottom: 1rem;
        right: 1rem;
        font-size: 0.8rem;
        opacity: 0.5;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--accent-color);
      }

      /* Style for progress bar */
      .progress-bar {
        position: fixed;
        top: 0;
        left: 0;
        height: 3px;
        width: 0%;
        background: var(--accent-gradient);
        z-index: 1000;
      }

      /* Cursor styles */
      .custom-cursor {
        position: fixed;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: transparent;
        border: 2px solid var(--accent-color);
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: 9999;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .custom-cursor-follower {
        position: fixed;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--accent-color);
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: 9999;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      /* Enhanced visual styles */
      .glow-text {
        text-shadow: 0 0 15px rgba(226, 192, 124, 0.5);
      }

      /* Animated background gradient */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          125deg,
          #0a0a0a 0%,
          #151515 25%,
          #0a0a0a 50%,
          #151515 75%,
          #0a0a0a 100%
        );
        background-size: 400% 400%;
        animation: gradientMove 35s ease infinite;
        z-index: -10;
      }

      @keyframes gradientMove {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Decorative elements */
      .quote::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background: var(--accent-gradient);
      }

      /* Floating shapes in background */
      .floating-shape {
        position: fixed;
        border-radius: 50%;
        background: radial-gradient(
          circle at center,
          rgba(226, 192, 124, 0.15),
          transparent 70%
        );
        filter: blur(50px);
        z-index: -5;
        animation: float 20s infinite ease-in-out;
      }

      .shape-1 {
        width: 40vw;
        height: 40vw;
        top: 10%;
        left: -15%;
        animation-delay: 0s;
      }

      .shape-2 {
        width: 25vw;
        height: 25vw;
        bottom: 10%;
        right: -5%;
        background: radial-gradient(
          circle at center,
          rgba(224, 107, 107, 0.1),
          transparent 70%
        );
        animation-delay: -5s;
      }

      .shape-3 {
        width: 30vw;
        height: 30vw;
        bottom: -10%;
        left: 25%;
        background: radial-gradient(
          circle at center,
          rgba(140, 200, 255, 0.07),
          transparent 70%
        );
        animation-delay: -10s;
      }

      @keyframes float {
        0%,
        100% {
          transform: translate(0, 0);
        }
        25% {
          transform: translate(-2%, 2%);
        }
        50% {
          transform: translate(2%, -2%);
        }
        75% {
          transform: translate(1%, 1%);
        }
      }
    </style>
  </head>
  <body>
    <div class="progress-bar"></div>
    <div class="custom-cursor"></div>
    <div class="custom-cursor-follower"></div>

    <div id="particle-container"></div>

    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>
    <div class="floating-shape shape-3"></div>

    <div class="smooth-wrapper">
      <div class="smooth-content">
        <header>
          <h1>One More</h1>
          <p class="intro">A story about love, memories, and letting go.</p>
          <div class="scroll-indicator"></div>
        </header>

        <section class="section-1">
          <div class="quote quote-1">
            Do you think I can have one more kiss? I'll find closure on your
            lips, and then I'll go.
          </div>
        </section>

        <section class="section-2">
          <div class="quote quote-2">
            Maybe also one more breakfast, one more lunch, and one more dinner.
            I'll be full and happy and we can part.
          </div>
        </section>

        <section class="section-3">
          <div class="quote quote-3">
            But in between meals, maybe we can lie in bed one more time. One
            more prolonged moment where time suspends indefinitely as I rest my
            head on your chest.
          </div>
        </section>

        <section class="section-4">
          <div class="quote quote-4">
            My hope is if we add up the
            <span class="highlight">'one mores,'</span> they will equal a
            lifetime and I'll never have to get to the part where I let you go.
          </div>
        </section>

        <section class="section-5">
          <div class="quote quote-5">
            But that's not real, is it? There are no more 'one mores.'
          </div>
        </section>

        <section class="section-6">
          <div class="quote quote-6">
            I met you when everything was new and exciting, and the
            possibilities of the world seemed endless. And they still are... for
            you, for me, but not for us.
          </div>
        </section>

        <section class="section-7">
          <div class="quote quote-7">
            Somewhere between then and now, here and there, I guess we didn't
            just grow apart, we grew up.
          </div>
        </section>

        <section class="section-8">
          <div class="quote quote-8">
            When something breaks, if the pieces are large enough, you can fix
            it. Unfortunately, sometimes things don't break, they
            <span class="highlight">shatter</span>.
          </div>
        </section>

        <section class="section-9">
          <div class="quote quote-9">
            But when you let the light in, shattered glass will
            <span class="highlight">glitter</span>.
          </div>
        </section>

        <section class="section-10 final-section">
          <div class="final-quote">
            And in those moments when the pieces of what we were catch the sun,
            I'll remember just how beautiful it was. Just how beautiful it'll
            always be. Because it was us. And we were
            <span class="highlight">magic</span>. Forever.
          </div>
        </section>
      </div>
    </div>

    <div class="credits">Scrollytelling Experience</div>

    <!-- Three.js libraries -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.136.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.136.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.136.0/examples/js/loaders/GLTFLoader.js"></script>

    <!-- GSAP libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/ScrollSmoother.min.js"></script>
    <script src="https://unpkg.com/split-type"></script>

    <!-- Particles.js library -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <!-- Custom scripts -->
    <script src="scene.js"></script>

    <script>
      // Wait for DOM to be fully loaded
      document.addEventListener("DOMContentLoaded", () => {
        // Register GSAP plugins
        gsap.registerPlugin(ScrollTrigger, ScrollSmoother, ScrollToPlugin);

        // Create custom cursor
        const cursor = document.querySelector(".custom-cursor");
        const cursorFollower = document.querySelector(
          ".custom-cursor-follower"
        );

        document.addEventListener("mousemove", (e) => {
          gsap.to(cursor, {
            x: e.clientX,
            y: e.clientY,
            duration: 0.1,
            ease: "power1.out",
          });

          gsap.to(cursorFollower, {
            x: e.clientX,
            y: e.clientY,
            duration: 0.3,
            ease: "power2.out",
          });
        });

        document.addEventListener("mouseenter", () => {
          gsap.to([cursor, cursorFollower], {
            opacity: 1,
            duration: 0.3,
          });
        });

        document.addEventListener("mouseleave", () => {
          gsap.to([cursor, cursorFollower], {
            opacity: 0,
            duration: 0.3,
          });
        });

        // Add hover effect to quote blocks
        document.querySelectorAll(".quote").forEach((quote) => {
          quote.addEventListener("mouseenter", () => {
            gsap.to(cursorFollower, {
              scale: 1.5,
              backgroundColor: "var(--accent-color)",
              duration: 0.3,
            });
          });

          quote.addEventListener("mouseleave", () => {
            gsap.to(cursorFollower, {
              scale: 1,
              backgroundColor: "var(--accent-color)",
              duration: 0.3,
            });
          });
        });

        // Initialize particles.js
        particlesJS("particle-container", {
          particles: {
            number: {
              value: 80,
              density: {
                enable: true,
                value_area: 800,
              },
            },
            color: {
              value: "#e2c07c",
            },
            shape: {
              type: "circle",
              stroke: {
                width: 0,
                color: "#000000",
              },
            },
            opacity: {
              value: 0.3,
              random: true,
              anim: {
                enable: true,
                speed: 1,
                opacity_min: 0.1,
                sync: false,
              },
            },
            size: {
              value: 3,
              random: true,
              anim: {
                enable: false,
                speed: 40,
                size_min: 0.1,
                sync: false,
              },
            },
            line_linked: {
              enable: true,
              distance: 150,
              color: "#e2c07c",
              opacity: 0.2,
              width: 1,
            },
            move: {
              enable: true,
              speed: 0.8,
              direction: "none",
              random: false,
              straight: false,
              out_mode: "out",
              bounce: false,
              attract: {
                enable: false,
                rotateX: 600,
                rotateY: 1200,
              },
            },
          },
          interactivity: {
            detect_on: "canvas",
            events: {
              onhover: {
                enable: true,
                mode: "grab",
              },
              onclick: {
                enable: true,
                mode: "push",
              },
              resize: true,
            },
            modes: {
              grab: {
                distance: 140,
                line_linked: {
                  opacity: 0.5,
                },
              },
              push: {
                particles_nb: 4,
              },
            },
          },
          retina_detect: true,
        });

        // Initialize smooth scrolling
        const smoother = ScrollSmoother.create({
          wrapper: ".smooth-wrapper",
          content: ".smooth-content",
          smooth: 1.5,
          effects: true,
        });

        // Create progress bar
        gsap.to(".progress-bar", {
          width: "100%",
          ease: "none",
          scrollTrigger: {
            trigger: ".smooth-content",
            start: "top top",
            end: "bottom bottom",
            scrub: 0.3,
          },
        });

        // Add glowing text effect to title
        gsap.to("h1", {
          className: "+=glow-text",
          repeat: -1,
          yoyo: true,
          duration: 2,
          ease: "sine.inOut",
        });

        // Split text for animation
        const splitQuotes = document.querySelectorAll(".quote");
        splitQuotes.forEach((quote) => {
          new SplitType(quote, { types: "words, chars" });
        });

        // Header animations with improved timing and easing
        gsap.to("h1", {
          opacity: 1,
          y: 0,
          duration: 2,
          ease: "power4.out",
        });

        gsap.to(".intro", {
          opacity: 1,
          y: 0,
          duration: 2,
          delay: 0.7,
          ease: "power3.out",
        });

        gsap.to(".scroll-indicator", {
          opacity: 1,
          duration: 1.5,
          delay: 2,
          ease: "power2.out",
        });

        // Enhanced section animations with more dynamic effects
        const sections = document.querySelectorAll("section");
        sections.forEach((section, index) => {
          const quote = section.querySelector(".quote");
          const highlights = section.querySelectorAll(".highlight");
          const isEven = index % 2 === 0;

          if (quote) {
            // Create animation for each quote with directional reveal
            ScrollTrigger.create({
              trigger: section,
              start: "top 70%",
              end: "bottom 20%",
              onEnter: () => {
                // Directional reveal based on even/odd section
                gsap.fromTo(
                  quote,
                  {
                    opacity: 0,
                    y: 50,
                    x: isEven ? -20 : 20,
                    rotationY: isEven ? 3 : -3,
                  },
                  {
                    opacity: 1,
                    y: 0,
                    x: 0,
                    rotationY: 0,
                    duration: 1.2,
                    ease: "power3.out",
                  }
                );

                // More dramatic character animation
                if (quote.querySelectorAll(".char")) {
                  gsap.fromTo(
                    quote.querySelectorAll(".char"),
                    {
                      opacity: 0,
                      y: gsap.utils.random(20, 40),
                      scale: 0.8,
                      rotationX: gsap.utils.random(-10, 10),
                    },
                    {
                      opacity: 1,
                      y: 0,
                      scale: 1,
                      rotationX: 0,
                      stagger: 0.02,
                      duration: 1,
                      ease: "power3.out",
                    }
                  );
                }

                // Enhanced highlight animations
                if (highlights.length) {
                  highlights.forEach((highlight) => {
                    gsap.fromTo(
                      highlight,
                      { color: "var(--text-color)" },
                      {
                        color: "var(--accent-color)",
                        textShadow: "0 0 8px rgba(226, 192, 124, 0.5)",
                        delay: 0.8,
                        duration: 0.7,
                        ease: "power2.out",
                      }
                    );

                    gsap.to(highlight, {
                      delay: 1,
                      className: "+=active",
                      duration: 0.7,
                      ease: "power2.out",
                    });
                  });
                }

                // Add subtle hover effect after animation completes
                gsap.set(quote, { clearProps: "all" });
              },
              onLeaveBack: () => {
                gsap.to(quote, {
                  opacity: 0,
                  y: 50,
                  x: isEven ? -20 : 20,
                  duration: 0.5,
                  ease: "power3.in",
                });

                // Reset highlights
                if (highlights.length) {
                  highlights.forEach((highlight) => {
                    gsap.to(highlight, {
                      color: "var(--text-color)",
                      textShadow: "none",
                      className: "-=active",
                      duration: 0.3,
                    });
                  });
                }
              },
            });
          }
        });

        // Final section animation with more dramatic effect
        ScrollTrigger.create({
          trigger: ".final-section",
          start: "top 60%",
          onEnter: () => {
            // More dramatic entrance for final quote
            gsap.fromTo(
              ".final-quote",
              {
                opacity: 0,
                scale: 0.9,
                y: 30,
                rotationX: 10,
              },
              {
                opacity: 1,
                scale: 1,
                y: 0,
                rotationX: 0,
                duration: 2,
                ease: "power3.out",
              }
            );

            // Enhanced highlight animation for final quote
            gsap.to(".final-quote .highlight", {
              color: "var(--accent-color)",
              textShadow: "0 0 15px rgba(226, 192, 124, 0.7)",
              duration: 2.5,
              delay: 1.5,
              ease: "power2.inOut",
            });

            // Pulsating glow effect on the final highlight
            gsap.to(".final-quote .highlight", {
              textShadow: "0 0 8px rgba(226, 192, 124, 0.3)",
              repeat: -1,
              yoyo: true,
              duration: 2,
              delay: 4,
              ease: "sine.inOut",
            });
          },
        });

        // Parallax effects for backgrounds with more dynamic movement
        gsap.utils.toArray("section").forEach((section, index) => {
          const direction = index % 2 === 0 ? 1 : -1;

          gsap.fromTo(
            section.querySelector(".parallax-bg"),
            {
              y: "-20%",
              x: `${direction * 10}%`,
              scale: 1.1,
            },
            {
              y: "20%",
              x: `${direction * -10}%`,
              scale: 1,
              ease: "none",
              scrollTrigger: {
                trigger: section,
                start: "top bottom",
                end: "bottom top",
                scrub: 1,
              },
            }
          );
        });

        // Animated floating shapes
        const shapes = document.querySelectorAll(".floating-shape");
        shapes.forEach((shape, index) => {
          gsap.to(shape, {
            x: gsap.utils.random(-50, 50),
            y: gsap.utils.random(-50, 50),
            duration: gsap.utils.random(15, 25),
            repeat: -1,
            repeatRefresh: true,
            yoyo: true,
            ease: "sine.inOut",
          });
        });
      });
    </script>
  </body>
</html>
